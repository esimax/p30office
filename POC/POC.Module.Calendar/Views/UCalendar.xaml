<UserControl xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" x:Class="POC.Module.Calendar.Views.UCalendar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
             xmlns:pol_ap="clr-namespace:POL.WPF.Controles.AttachProperties;assembly=POL.WPF.Controles"
             xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
             xmlns:dxsch="http://schemas.devexpress.com/winfx/2008/xaml/scheduler"
             xmlns:POLDateEdit="clr-namespace:POL.WPF.DXControls.POLDateEdit;assembly=POL.WPF.DXControls"
             xmlns:Drawing="clr-namespace:DevExpress.Xpf.Scheduler.Drawing;assembly=DevExpress.Xpf.Scheduler.v13.2"
             xmlns:local="clr-namespace:POC.Module.Calendar" mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="600">
    <UserControl.Resources>
        <ResourceDictionary>
            <!--<dxsch:SchedulerUICommand x:Key="commands"/>
            <dxsch:SchedulerControlStringIdConverter x:Key="stringIdConverter"/>-->

            <local:ConvCalendarMonthDate x:Key="DateFormatConverter" />

            <SolidColorBrush x:Key="InnerCellBrush" Color="#ffffff" />
            <SolidColorBrush x:Key="BlueCellBrush" Color="#8CC5F5" />

            <ControlTemplate x:Key="HorizontalWeekCellTemplate" TargetType="{x:Type Drawing:VisualDateCell}">
                <Grid x:Name="cell" SnapsToDevicePixels="True" Background="{StaticResource InnerCellBrush}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Rectangle Width="1" SnapsToDevicePixels="True" Grid.Column="0" Fill="{StaticResource BlueCellBrush}" />
                    <Grid Grid.Column="1" SnapsToDevicePixels="True">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Rectangle x:Name="topBorder" Height="1" SnapsToDevicePixels="True" Fill="{StaticResource BlueCellBrush}" />
                        <Grid Grid.Row="1" SnapsToDevicePixels="True">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid x:Name="leftBorder" Background="{StaticResource BlueCellBrush}" 
                                  SnapsToDevicePixels="True" dxsch:SchedulerControl.HitTestType="DayHeader" IsHitTestVisible="True">
                                <TextBlock Text="{Binding IntervalStart, Converter={StaticResource ResourceKey=DateFormatConverter}}" 
                                           Padding="2" HorizontalAlignment="Center" />
                            </Grid>
                            <ContentControl x:Name="PART_CONTENT"
                                    Content="{Binding Content}"
                                    Grid.Row="1"
                                    HorizontalContentAlignment="Stretch"
                                    VerticalContentAlignment="Stretch"
                                    dxsch:SchedulerControl.HitTestType="Cell"
                                    IsHitTestVisible="True" SnapsToDevicePixels="True">
                                <ContentControl.ContentTemplate>
                                    <DataTemplate>
                                        <Rectangle Fill="Transparent" />
                                    </DataTemplate>
                                </ContentControl.ContentTemplate>
                            </ContentControl>
                        </Grid>
                    </Grid>
                </Grid>
            </ControlTemplate>
            <Style x:Key="HorizontalWeekCellStyle" TargetType="{x:Type Drawing:VisualDateCell}">
                <Setter Property="NormalTemplate" Value="{StaticResource HorizontalWeekCellTemplate}" />
                <Setter Property="AlternateTemplate" Value="{StaticResource HorizontalWeekCellTemplate}" />
            </Style>
        </ResourceDictionary>
    </UserControl.Resources>

    <dxb:BarManager>
        <dxb:BarManager.Items>
            <dxb:BarButtonItem Content="بازخوانی" Name="biRefresh"
                               Command="{Binding CommandRefresh}"  
                               LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_Refresh.png" />
            <dxb:BarButtonItem Content="قبلی" Name="biNavigateViewBackward"
                               Command="{Binding CommandNavigateViewBackward}"  
                               LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_NavigateViewForward.png" />
            <dxb:BarButtonItem Content="بعدی" Name="biNavigateViewForward"
                               Command="{Binding CommandNavigateViewForward}" 
                               LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_NavigateViewBackward.png" />
            <dxb:BarButtonItem Content="برو به امروز" Name="biGotoToday"
                               Command="{Binding CommandGotoToday}" 
                               LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_GotoToday.png" />
            <dxb:BarButtonItem Content="بزرگ نمایی" Name="biViewZoomIn"
                               Command="{Binding CommandZoomIn}" 
                               LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_ZoomIn.png" />
            <dxb:BarButtonItem Content="كوچك نمایی" Name="biViewZoomOut"
                               Command="{Binding CommandZoomOut}" 
                               LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_ZoomOut.png" />

            <dxb:BarCheckItem Content="روزانه" Name="biSwitchToDayView"
                              IsChecked="{Binding SwitchToDayView,Mode=TwoWay}"
                              LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_DayView.png" />
            <dxb:BarCheckItem Content="هفته كاری" Name="biSwitchToWorkWeekView"
                              IsChecked="{Binding SwitchToWorkWeekView,Mode=TwoWay}"
                              LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_WorkWeekView.png" />
            <dxb:BarCheckItem Content="هفته" Name="biSwitchToWeekView"
                              IsChecked="{Binding SwitchToWeekView,Mode=TwoWay}"
                              LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_WeekView.png" />
            <dxb:BarCheckItem Content="ماه" Name="biSwitchToMonthView"
                              IsChecked="{Binding SwitchToMonthView,Mode=TwoWay}"
                               LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_MonthView.png" />
            <dxb:BarCheckItem Content="خطكش زمان" Name="biSwitchToTimelineView"
                              IsChecked="{Binding SwitchToTimelineView,Mode=TwoWay}"
                              LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_TimeLineView.png" />
            <dxb:BarButtonItem Content="راهنما" Name="biHelp" Command="{Binding CommandHelp}" LargeGlyph="pack://application:,,,/POL.Lib.Resources;component/Standard/32/_32_Help.png"/>
            
            <!--
            <dxb:BarCheckItem Command="{Binding Path=SwitchToDayView, Mode=OneTime, Source={StaticResource commands} }" Name="biSwitchToDayView"/>
            <dxb:BarCheckItem Command="{Binding Path=SwitchToWorkWeekView, Mode=OneTime, Source={StaticResource commands} }" Name="biSwitchToWorkWeekView"/>
            <dxb:BarCheckItem Command="{Binding Path=SwitchToWeekView, Mode=OneTime, Source={StaticResource commands} }" Name="biSwitchToWeekView"/>
            <dxb:BarCheckItem Command="{Binding Path=SwitchToMonthView, Mode=OneTime, Source={StaticResource commands} }" Name="biSwitchToMonthView"/>
            <dxb:BarCheckItem Command="{Binding Path=SwitchToTimelineView, Mode=OneTime, Source={StaticResource commands} }" Name="biSwitchToTimelineView"/>
            <dxb:BarCheckItem Command="{Binding Path=SwitchToGroupByNone, Mode=OneTime, Source={StaticResource commands} }" Name="biSwitchToGroupByNone"/>
            <dxb:BarCheckItem Command="{Binding Path=SwitchToGroupByDate, Mode=OneTime, Source={StaticResource commands} }" Name="biSwitchToGroupByDate"/>
            <dxb:BarCheckItem Command="{Binding Path=SwitchToGroupByResource, Mode=OneTime, Source={StaticResource commands} }" Name="biSwitchToGroupByResource"/>-->
        </dxb:BarManager.Items>

        <Grid pol_ap:ApGrid.RowDefinitions="auto,*" pol_ap:ApGrid.ColumnDefinitions="auto,*">
            <dxr:RibbonControl x:Name="calendarRibbon" Grid.Row="0" Grid.ColumnSpan="2" RibbonStyle="Office2010">
                <dxr:RibbonDefaultPageCategory>
                    <dxr:RibbonPage Caption="سررسید">
                        <dxr:RibbonPageGroup Caption="سیر" ShowCaptionButton="False">
                            <dxb:BarButtonItemLink BarItemName="biRefresh" />
                            <dxb:BarButtonItemLink BarItemName="biNavigateViewBackward" />
                            <dxb:BarButtonItemLink BarItemName="biNavigateViewForward" />
                            <dxb:BarButtonItemLink BarItemName="biGotoToday" />
                            <dxb:BarButtonItemLink BarItemName="biViewZoomIn" />
                            <dxb:BarButtonItemLink BarItemName="biViewZoomOut" />
                        </dxr:RibbonPageGroup>
                        <dxr:RibbonPageGroup Caption="نوع نمایش" ShowCaptionButton="False">
                            <dxb:BarCheckItemLink BarItemName="biSwitchToDayView" />
                            <dxb:BarCheckItemLink BarItemName="biSwitchToWorkWeekView" />
                            <dxb:BarCheckItemLink BarItemName="biSwitchToWeekView" />
                            <dxb:BarCheckItemLink BarItemName="biSwitchToMonthView" />
                            <dxb:BarCheckItemLink BarItemName="biSwitchToTimelineView" />
                        </dxr:RibbonPageGroup>
                        <dxr:RibbonPageGroup Caption="راهنما" >
                            <dxb:BarButtonItemLink BarItemName="biHelp" />
                        </dxr:RibbonPageGroup>
                    </dxr:RibbonPage>
                </dxr:RibbonDefaultPageCategory>
            </dxr:RibbonControl>

            <StackPanel Grid.Row="1" Grid.Column="0">
                <POLDateEdit:MyDateEditCalendar Width="230" DateTime="{Binding NavigatorDateTime,Mode=TwoWay}" ShowClearButton="False" SnapsToDevicePixels="True" />
            </StackPanel>


            <dxsch:SchedulerControl Grid.Row="1" Grid.Column="1" Name="scMain">
                <!--<dxsch:SchedulerControl.Storage>
                    <dxsch:SchedulerStorage Name="storage">
                        
                    </dxsch:SchedulerStorage>
                </dxsch:SchedulerControl.Storage>-->
            </dxsch:SchedulerControl>

        </Grid>
    </dxb:BarManager>
</UserControl>
